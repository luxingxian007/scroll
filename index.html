<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<script src="jquery-1.4.js"></script>
	<style>
.scroll_img{ height: 400px; line-height: 400px; font-size: 100px; background:url(images/BG1.jpg); color: #fff; margin-top:250px; text-align: center; text-shadow:0 3px 2px #625351; font-family:"microsoft yahei";}
.sc2{ background-image:url(images/BG2.jpg);}
.sc3{ background-image:url(images/BG3.jpg);}
	</style>
	<title>Document</title>
	<script src="jquery/jquery-1.4.2.min.js"></script>
	<script>
	 	$(function(){
	 		
function view(obj){
	var viewdiv=obj.wiewdiv
	var dis;
	var sc;
	$(window).bind("scroll",checkscroll);
	function checkscroll(){
		$(viewdiv).each(function(){
			var winh=$(window).height();
			var elemh=$(this).height();
			var offset=$(this).offset().top;
			if(offset<winh){
				dis=offset+elemh;
				sc=$(window).scrollTop();
				console.log(sc)
				if(sc>dis){return}
			}else{
				dis=winh+elemh;
				sc=$(window).scrollTop()-offset+winh;
				if(sc<0){return}
			}
			var bfb=100-sc/dis*100+"%";
			$(this).css("background-position","0 "+bfb);
		})
	}
}
view({wiewdiv:".scroll_img"})
	 	})
	</script>
</head>
<body>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<div class="scroll_img"> this is img</div>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<div class="scroll_img sc2"> this is img s2</div>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<div class="scroll_img sc3"> this is img S3</div>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	
</body>
</html>
